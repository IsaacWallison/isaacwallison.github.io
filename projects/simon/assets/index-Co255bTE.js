(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))m(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&m(i)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function m(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}})();const p=e=>`
    <button data-id='${e}' class='simon-button ${e}' style='--color: ${e};' disabled></button>
`,h=document.querySelector(".grid"),L=document.querySelector(".start"),v=document.querySelector(".restart"),u=["green","red","yellow","blue"],s={};let c=0,d=0;u.forEach(e=>h.insertAdjacentHTML("beforeend",p(e)));u.forEach(e=>{document.querySelector(`button.${e}`).addEventListener("click",S)});L.addEventListener("click",()=>{f(),a("button.start"),l()});v.addEventListener("click",()=>{d=0,b(),f(),a("button.restart"),l()});function l(){b();const e=u[Math.floor(Math.random()*u.length)];s[Object.keys(s).length+1]=e,y(e)}function S(e){if(!g())return;let o=!0;if(e.target instanceof HTMLButtonElement){const r=e.target.dataset.id;y(r),s[c+1]!==r&&(o=!1),c++}if(!o)return A();g()||(c=0,d++,setTimeout(()=>{l()},1e3))}function y(e){const o=document.querySelector(`button.${e}`);if(!o)return;const r=q(e);o.classList.add("active"),r.play(),setTimeout(()=>{o.classList.remove("active")},100)}function q(e){return new Audio(`sounds/${e}.mp3`)}function O(){return new Audio("sounds/wrong.mp3")}function b(){document.querySelector(".level").textContent=`Level ${d}`}function g(){return c<Object.keys(s).length}function a(e){const o=document.querySelector(e);o&&o.classList.toggle("none")}function f(){document.querySelectorAll(".simon-button").forEach(e=>e.disabled=!e.disabled)}function w(){c=0,Object.entries(s).forEach(([e])=>{delete s[+e]})}function A(){w(),f(),O().play(),document.body.classList.add("game-over"),setTimeout(()=>{a("button.restart"),document.body.classList.remove("game-over")},100)}
